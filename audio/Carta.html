<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Carta üíå</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Dancing Script',cursive;
background:#0f2027;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
text-align:center;
}

/* sorpresa inicial */
#inicio{
position:fixed;
inset:0;
background:black;
display:flex;
justify-content:center;
align-items:center;
font-size:28px;
z-index:9999;
cursor:pointer;
}

/* sobre */
.contenedor{
position:relative;
width:90%;
max-width:320px;
height:200px;
cursor:pointer;
}

.sobre{
background:#ff4d6d;
height:100%;
display:flex;
justify-content:center;
align-items:center;
border-radius:12px;
font-size:26px;
}

.tapa{
position:absolute;
width:100%;
height:100%;
background:#ff758c;
clip-path:polygon(0 0,100% 0,50% 60%);
transform-origin:top;
transition:1s;
}

.abierto .tapa{
transform:rotateX(180deg);
}

.carta{
display:none;
position:fixed;
background:white;
color:#444;
padding:20px;
border-radius:12px;
max-width:90%;
width:420px;
z-index:5;
}

.boton{
margin-top:15px;
padding:10px;
font-size:20px;
border:none;
background:#ff4d6d;
color:white;
border-radius:10px;
cursor:pointer;
}

.corazon{
position:fixed;
font-size:24px;
z-index:9999;
animation:volar 2s forwards;
}

@keyframes volar{
0%{transform:translate(0,0);opacity:1;}
100%{transform:translate(var(--x),var(--y));opacity:0;}
}
</style>
</head>

<body>

<div id="inicio" onclick="pedirClave()">
‚ú® toca para empezar ‚ú®
</div>

<div class="contenedor" onclick="abrirCarta(this)">
<div class="sobre">üíå √Åbreme amor</div>
<div class="tapa"></div>
</div>

<div class="carta" id="carta">
<p id="texto"></p>
<button class="boton" onclick="abrazar(event)">üíû abrazarte</button>
</div>

<audio id="musica" src="cancion.mp3" loop></audio>

<script>
let mensaje="Amorcito mio, se que te hago enojar demasiado, se que muchas veces dudas de esto, se que te aburro a veces, pero de verdad creeme que yo te quiero y te amo demasiado, a pesar de a veces no comprenderte del todo trato de no hacerte enojar o dar colera pero se complica el asunto, creeme que quiero ser el indicado para ti y que todo esto valga la pena, asi que me estoy esforzando mucho y m√°s de lo que crees para no decepcionarte. Espero que comprendas mis palabras y acciones, yo quiero tener una vida feliz contigo x siempre a pesar de las peleas q te encantan q te tengamos. Te amo mucho besos mua mua.";

/* contrase√±a */
function pedirClave(){
let clave=prompt("üîí escribe nuestra clave secreta");
if(clave==="amor"){
document.getElementById("inicio").style.display="none";
}else{
alert("clave incorrecta üò≠");
}
}

function abrirCarta(el){
el.classList.add("abierto");
document.getElementById("carta").style.display="block";
document.getElementById("musica").play();
escribir();
}

function escribir(){
let i=0;
let t=document.getElementById("texto");
let inter=setInterval(()=>{
t.innerHTML+=mensaje.charAt(i);
i++;
if(i>=mensaje.length)clearInterval(inter);
},25);
}

function abrazar(e){
e.stopPropagation();
for(let i=0;i<25;i++){
let c=document.createElement("div");
c.className="corazon";
c.innerHTML="‚ù§Ô∏è";
c.style.left="50%";
c.style.top="50%";
c.style.setProperty("--x",(Math.random()*400-200)+"px");
c.style.setProperty("--y",(Math.random()*-400)+"px");
document.body.appendChild(c);
setTimeout(()=>c.remove(),2000);
}
}
</script>

</body>
</html>
